import{r as e,a as t}from"./vendor-D7amQhf0.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var s,r,n={exports:{}},a={};var i,l=(r||(r=1,n.exports=function(){if(s)return a;s=1;var t=e(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var n,a={},c=null,d=null;for(n in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,n)&&!o.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:r,type:e,key:c,ref:d,props:a,_owner:l.current}}return a.Fragment=n,a.jsx=c,a.jsxs=c,a}()),n.exports),o={};var c=function(){if(i)return o;i=1;var e=t();return o.createRoot=e.createRoot,o.hydrateRoot=e.hydrateRoot,o}(),d=e();const m=()=>l.jsx("header",{className:"header-container sticky top-0 z-40",children:l.jsx("div",{className:"container max-w-5xl mx-auto px-4 sm:px-6",children:l.jsx("div",{className:"flex flex-col items-center fade-in",children:l.jsx("div",{className:"w-full py-4 sm:py-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-text-primary quran-text",children:"سُورَةُ الْكَهْفِ"}),l.jsx("p",{className:"text-sm sm:text-base text-text-muted mt-2 sm:mt-3 font-medium",children:"110 آية • مكية"})]})})})})}),u="https://api.alquran.cloud/v1",x=3e5;let h=null,p=0,b=null,f=0,v=null,g=0;const j=async()=>{if(null!==h&&Date.now()-p<x&&h)return h;const e=`${u}/surah/18/editions/quran-simple-enhanced,en.sahih`,t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const s=await t.json();if(200!==s.code||!s.data||0===s.data.length)throw new Error("Invalid API response");const r=s.data.find(e=>"quran-simple-enhanced"===e.edition.identifier),n=s.data.find(e=>"en.sahih"===e.edition.identifier);if(!r||!n)throw new Error("Required surah editions not found");if(r.ayahs.length!==n.ayahs.length)throw new Error("Mismatch in verse count between editions");const a=[],i="بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ";return a.push({number:0,numberInSurah:0,arabic:i,translation:"In the name of Allah, the Entirely Merciful, the Especially Merciful.",page:r.ayahs[0].page,juz:r.ayahs[0].juz}),r.ayahs.forEach((e,t)=>{const s=n.ayahs[t];let r=e.text;if(1===e.numberInSurah){if(r=r.replace(i,"").trim(),r===e.text){const e=i.normalize("NFKC"),t=r.normalize("NFKC");r=t.replace(e,"").trim()}if(r===e.text||r.startsWith("بِسْمِ اللَّهِ")){const e=r.indexOf("الْحَمْدُ");if(e>0)r=r.substring(e).trim();else{const e=["الْحَمْدِ لِلَّهِ","الْحَمْدُ لِلَّهِ","ٱلْحَمْدُ لِلَّهِ"];for(const t of e){const e=r.indexOf(t);if(e>0){r=r.substring(e).trim();break}}}}if(r.startsWith("بِسْمِ")){const e=r.split(" ");e.length>4&&(r=e.slice(4).join(" ").trim())}}a.push({number:e.number,numberInSurah:e.numberInSurah,arabic:r,translation:s.text,page:e.page,juz:e.juz})}),h=a,p=Date.now(),a},w=async()=>{if(null!==b&&Date.now()-f<x&&b)return b;const e=`${u}/surah/18/ar.alafasy`;try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const s=await t.json();if(200!==s.code||!s.data||!s.data.ayahs)throw new Error("Invalid audio API response");const r=new Map;return s.data.ayahs.forEach(e=>{e.audio&&""!==e.audio.trim()&&r.set(e.numberInSurah,e.audio)}),b=r,f=Date.now(),r}catch(t){throw new Error("Failed to fetch audio data. Please check your connection and try again.")}},y=async e=>0===e?{tafseer_id:3,tafseer_name:"تفسير السعدي",ayah_url:"/quran/18/0/",ayah_number:0,text:"البسملة: بِسْمِ اللَّهِ، أي أبتدئ بكل اسم لله تعالى، لأن لفظ (اسم) مفرد مضاف، فيعم جميع الأسماء الحسنى. والله هو المألوه المعبود، المستحق لإفراده بالعبادة، لما اتصف به من صفات الألوهية وهي صفات الكمال. الرَّحْمَنِ الرَّحِيمِ اسمان دالان على أنه تعالى ذو الرحمة الواسعة العظيمة التي وسعت كل شيء، وعمت كل حي، وكتبها للمتقين المتبعين لأنبيائه ورسله. فالرحمن دال على الصفة القائمة به سبحانه، والرحيم دال على تعلقها بالمرحوم، فكان الأول دال على جلاله والثاني على جماله وإحسانه."}:await(async(e,t,s)=>{const r=`${e}-${t}-${s}`;if(null===v&&(v=new Map),v.has(r)&&Date.now()-g<x)return v.get(r);const n=`http://api.quran-tafseer.com/tafseer/${e}/${t}/${s}`;try{const e=await fetch(n);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();return v.set(r,t),g=Date.now(),t}catch(a){throw new Error("Failed to fetch verse tafseer. Please check your connection and try again.")}})(3,18,e),N=()=>{const[e,t]=d.useState({isPlaying:!1,isLoading:!1,currentVerse:null,error:null,progress:0,duration:0}),s=d.useRef(null),r=d.useRef(null),n=d.useCallback(()=>{r.current&&(clearInterval(r.current),r.current=null)},[]),a=d.useCallback(()=>{n(),r.current=setInterval(()=>{if(s.current){const e=s.current.currentTime,r=s.current.duration;isNaN(e)||isNaN(r)||t(t=>({...t,progress:e,duration:r}))}},100)},[n]),i=d.useCallback(()=>{s.current&&(s.current.pause(),s.current.currentTime=0,s.current.src=""),n(),t({isPlaying:!1,isLoading:!1,currentVerse:null,error:null,progress:0,duration:0})},[n]),l=d.useCallback(()=>{s.current&&s.current.pause(),n(),t(e=>({...e,isPlaying:!1}))},[n]),o=d.useCallback(async r=>{try{if(e.currentVerse===r&&s.current&&!s.current.paused)return;i(),t(e=>({...e,isLoading:!0,error:null,currentVerse:r}));const l=await(async e=>{try{return 0===e?null:(await w()).get(e)||null}catch(t){return null}})(r);if(!l)throw new Error("Audio not available for this verse");s.current||(s.current=new Audio);const o=s.current,c=()=>{t(e=>({...e,isLoading:!0}))},d=()=>{t(e=>({...e,isLoading:!1,duration:o.duration||0}))},m=()=>{t(e=>({...e,isPlaying:!0})),a()},u=()=>{t(e=>({...e,isPlaying:!1})),n()},x=()=>{t(e=>({...e,isPlaying:!1,progress:0})),n()},h=()=>{t(e=>({...e,isPlaying:!1,isLoading:!1,error:"Failed to load audio. Please try again."})),n()};o.removeEventListener("loadstart",c),o.removeEventListener("canplay",d),o.removeEventListener("play",m),o.removeEventListener("pause",u),o.removeEventListener("ended",x),o.removeEventListener("error",h),o.addEventListener("loadstart",c),o.addEventListener("canplay",d),o.addEventListener("play",m),o.addEventListener("pause",u),o.addEventListener("ended",x),o.addEventListener("error",h),o.src=l,o.load();const p=o.play();void 0!==p&&p.catch(e=>{t(e=>({...e,isPlaying:!1,isLoading:!1,error:"Failed to play audio. Please try again."}))})}catch(l){t(e=>({...e,isPlaying:!1,isLoading:!1,error:l instanceof Error?l.message:"Failed to play audio"}))}},[e.currentVerse,i,a,n]),c=d.useCallback(async t=>{e.currentVerse===t?e.isPlaying?l():s.current&&s.current.play():await o(t)},[e.currentVerse,e.isPlaying,l,o]);return d.useEffect(()=>()=>{i(),s.current&&(s.current.removeEventListener("loadstart",()=>{}),s.current.removeEventListener("canplay",()=>{}),s.current.removeEventListener("play",()=>{}),s.current.removeEventListener("pause",()=>{}),s.current.removeEventListener("ended",()=>{}),s.current.removeEventListener("error",()=>{}),s.current=null)},[i]),{audioState:e,audioControls:{playVerse:o,pauseAudio:l,stopAudio:i,togglePlayPause:c}}},k="alkahf-theme",L="alkahf-font-size",S="alkahf-font-type",C=e=>{try{localStorage.setItem(L,e.toString())}catch(t){}},E=()=>{const[e,t]=d.useState((()=>{try{const e=localStorage.getItem(k);if(e&&["dark","light","sepia"].includes(e))return e}catch(e){}return"dark"})()),[s,r]=d.useState((()=>{try{const e=localStorage.getItem(L);if(e){const t=parseInt(e,10);if(t>=1&&t<=10)return t}}catch(e){}return 5})()),[n,a]=d.useState((()=>{try{const e=localStorage.getItem(S);if(e&&["elgharib","ibm"].includes(e))return e}catch(e){}return"elgharib"})());d.useEffect(()=>{document.documentElement.className=e},[e]);const i=e=>1.2+.15*(e-1);return{currentTheme:e,fontSizeLevel:s,currentFont:n,changeTheme:e=>{t(e),(e=>{try{localStorage.setItem(k,e)}catch(t){}})(e),document.documentElement.className=e},increaseFontSize:()=>{r(e=>{const t=Math.min(e+1,10);return C(t),t})},decreaseFontSize:()=>{r(e=>{const t=Math.max(e-1,1);return C(t),t})},changeFontType:e=>{a(e),(e=>{try{localStorage.setItem(S,e)}catch(t){}})(e)},getFontSize:i,getFontClass:e=>"ibm"===e?"quran-text-ibm":"quran-text",getFontDisplayName:e=>"ibm"===e?"IBM":"الغريب",currentFontSize:i(s)}},I=({isOpen:e,onClose:t,ayahNumber:s,ayahText:r})=>{const[n,a]=d.useState(null),[i,o]=d.useState(!1),[c,m]=d.useState(null);d.useEffect(()=>{e&&s&&u()},[e,s]);const u=async()=>{try{o(!0),m(null);const e=await y(s);a(e)}catch(e){m("فشل في تحميل التفسير. يرجى المحاولة مرة أخرى.")}finally{o(!1)}},x=e=>{"Escape"===e.key&&t()};return d.useEffect(()=>(e?(document.addEventListener("keydown",x),document.body.style.overflow="hidden"):(document.removeEventListener("keydown",x),document.body.style.overflow="unset"),()=>{document.removeEventListener("keydown",x),document.body.style.overflow="unset"}),[e]),e?l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&t()},children:l.jsxs("div",{className:"bg-surface border border-border-secondary rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl animate-fade-in",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border-secondary bg-elevated",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"bg-accent text-main px-3 py-1.5 rounded-lg font-medium text-sm",children:["تفسير آية ",s]}),l.jsx("h2",{className:"text-lg font-semibold text-text-primary",style:{fontFamily:"IBM Plex Sans Arabic, sans-serif"},children:"تفسير السعدي"})]}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-surface rounded-lg transition-colors group",title:"إغلاق",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-text-muted group-hover:text-text-primary transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"bg-card border border-border-secondary rounded-xl p-6",children:[l.jsx("h3",{className:"text-accent font-semibold mb-4 text-sm",children:"نص الآية:"}),l.jsx("p",{className:"text-text-primary text-2xl leading-relaxed text-center",style:{fontFamily:"IBM Plex Sans Arabic, sans-serif"},dir:"rtl",children:r})]}),l.jsxs("div",{className:"bg-card border border-border-secondary rounded-xl p-6",children:[l.jsx("h3",{className:"text-accent font-semibold mb-4 text-sm",children:"التفسير:"}),i&&l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-5 h-5 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}),l.jsx("span",{className:"text-text-muted",children:"جاري تحميل التفسير..."})]})}),c&&l.jsxs("div",{className:"flex items-center gap-3 text-red-400 bg-red-400/10 border border-red-400/20 rounded-lg p-4",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),l.jsx("span",{children:c})]}),n&&!i&&!c&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-text-primary text-lg leading-loose",style:{fontFamily:"IBM Plex Sans Arabic, sans-serif"},dir:"rtl",children:n.text}),l.jsx("div",{className:"pt-4 border-t border-border-secondary",children:l.jsx("p",{className:"text-text-muted text-sm",style:{fontFamily:"IBM Plex Sans Arabic, sans-serif"},children:n.tafseer_name})})]})]}),l.jsx("div",{className:"flex justify-start gap-3 pt-4",children:l.jsx("button",{onClick:t,className:"btn-secondary px-6 py-2.5 mb-2",children:"إغلاق"})})]})})]})}):null},M=()=>{const[e,t]=d.useState(null),[s,r]=d.useState([]),[n,a]=d.useState([]),[i,o]=d.useState(""),[c,m]=d.useState(!0),[u,x]=d.useState(null),[h,p]=d.useState(!1),[b,f]=d.useState(!1),[v,g]=d.useState(!1),[w,y]=d.useState(null),{audioState:k,audioControls:L}=N(),{currentTheme:S,fontSizeLevel:C,currentFont:M,currentFontSize:P,changeTheme:z,increaseFontSize:B,decreaseFontSize:F,changeFontType:T,getFontClass:W,getFontDisplayName:$}=E(),_=e=>{if(!e||isNaN(e))return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`},D=e=>{T(e),p(!1),f(!1)};return d.useEffect(()=>{document.documentElement.className=S},[S]),d.useEffect(()=>{const e=e=>{const t=e.target;t.closest(".font-dropdown")||t.closest(".font-dropdown-mobile")||(p(!1),f(!1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),d.useEffect(()=>{(async()=>{try{m(!0),x(null);const e=await j();r(e),a(e)}catch{x("فشل في تحميل آيات سورة الكهف. يرجى المحاولة مرة أخرى.")}finally{m(!1)}})()},[]),d.useEffect(()=>{if(""===i.trim())return void a(s);const e=i.trim(),t=e.toLowerCase(),r=s.filter(s=>{const r=s.arabic.includes(e),n=s.translation.toLowerCase().includes(t),a=s.numberInSurah.toString().includes(e),i=s.page.toString().includes(e),l=s.juz.toString().includes(e),o=s.arabic.replace(/[\u064B-\u065F\u0670\u0640]/g,""),c=e.replace(/[\u064B-\u065F\u0670\u0640]/g,""),d=o.includes(c);return r||n||a||i||l||d});a(r)},[i,s]),c?l.jsx("section",{className:"min-h-screen flex items-center justify-center bg-main px-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"loading-spinner mx-auto mb-4 sm:mb-6"}),l.jsx("h3",{className:"text-lg sm:text-xl text-accent mb-2 font-uthmani",children:"جاري تحميل سورة الكهف"}),l.jsx("p",{className:"text-text-secondary text-sm",children:"يرجى الانتظار..."})]})}):u?l.jsx("section",{className:"py-8 sm:py-16 bg-main",children:l.jsx("div",{className:"container max-w-2xl mx-auto px-4 sm:px-6",children:l.jsx("div",{className:"text-center",children:l.jsxs("div",{className:"bg-red-950/30 rounded-modern p-6 sm:p-8",children:[l.jsx("h3",{className:"text-red-400 text-base sm:text-lg mb-3 sm:mb-4 font-semibold",children:"خطأ في التحميل"}),l.jsx("p",{className:"text-red-300 mb-4 sm:mb-6 text-sm sm:text-base",children:u}),l.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary text-sm sm:text-base",children:"المحاولة مرة أخرى"})]})})})}):l.jsxs("section",{className:"py-8 sm:py-16 min-h-screen bg-main",children:[l.jsxs("div",{className:"container max-w-5xl mx-auto px-4 sm:px-6",children:[l.jsxs("div",{className:"bg-surface rounded-xl p-3 sm:p-4 mb-6 sm:mb-8",children:[l.jsxs("div",{className:"block sm:hidden space-y-6 mobile-controls-container",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:i,onChange:e=>o(e.target.value),placeholder:"ابحث في الآيات...",className:"w-full bg-content text-text-primary rounded-xl px-12 py-4 focus:outline-none focus:ring-2 focus:ring-accent text-right text-base",dir:"rtl"}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-text-muted",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),i&&l.jsx("button",{onClick:()=>o(""),className:"absolute left-4 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-primary p-2 rounded-lg hover:bg-elevated transition-colors",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between bg-card rounded-xl p-4 border border-border-secondary slide-up",style:{animationDelay:"0.1s"},children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-text-secondary text-sm font-medium",children:"المظهر"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>z("dark"),className:"theme-button-mobile "+("dark"===S?"active":""),title:"المظهر المظلم",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),l.jsx("button",{onClick:()=>z("light"),className:"theme-button-mobile "+("light"===S?"active":""),title:"المظهر الفاتح",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}),l.jsx("button",{onClick:()=>z("sepia"),className:"theme-button-mobile "+("sepia"===S?"active":""),title:"المظهر الدافئ",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]})]})}),l.jsx("div",{className:"flex items-center justify-between bg-card rounded-xl p-4 border border-border-secondary slide-up",style:{animationDelay:"0.2s"},children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-text-secondary text-sm font-medium",children:"حجم الخط"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:F,className:"theme-button-mobile",title:"تصغير الخط",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),l.jsx("div",{className:"theme-button-mobile flex items-center justify-center font-medium min-w-[44px]",children:C}),l.jsx("button",{onClick:B,className:"theme-button-mobile",title:"تكبير الخط",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]})}),l.jsx("div",{className:"flex items-center justify-between bg-card rounded-xl p-4 border border-border-secondary slide-up",style:{animationDelay:"0.3s"},children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-text-secondary text-sm font-medium",children:"نوع الخط"}),l.jsxs("div",{className:"font-dropdown-mobile",children:[l.jsxs("button",{onClick:()=>f(!b),className:"font-dropdown-button-mobile",children:[l.jsx("span",{className:"text-sm",children:$(M)}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 transition-transform "+(b?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),b&&l.jsxs("div",{className:"font-dropdown-menu-mobile",children:[l.jsx("button",{onClick:()=>D("elgharib"),className:"font-dropdown-item-mobile "+("elgharib"===M?"active":""),children:"الغريب"}),l.jsx("button",{onClick:()=>D("ibm"),className:"font-dropdown-item-mobile "+("ibm"===M?"active":""),children:"IBM"})]})]})]})})]})]}),l.jsxs("div",{className:"hidden sm:flex items-center justify-between gap-6",children:[l.jsx("div",{className:"flex-1 max-w-[500px] min-w-[200px] transition-all duration-300",children:l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:i,onChange:e=>o(e.target.value),placeholder:"ابحث في الآيات...",className:"w-full bg-content text-text-primary rounded-lg px-10 py-2 focus:outline-none focus:ring-1 focus:ring-accent text-right",dir:"rtl"}),l.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),i&&l.jsx("button",{onClick:()=>o(""),className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-primary p-1",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("div",{className:"flex items-center gap-3 border-r border-border-primary pr-6",children:[l.jsx("span",{className:"text-text-secondary font-medium",children:"المظهر"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>z("dark"),className:"theme-button "+("dark"===S?"active":""),title:"المظهر المظلم",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),l.jsx("button",{onClick:()=>z("light"),className:"theme-button "+("light"===S?"active":""),title:"المظهر الفاتح",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}),l.jsx("button",{onClick:()=>z("sepia"),className:"theme-button "+("sepia"===S?"active":""),title:"المظهر الدافئ",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]})]}),l.jsxs("div",{className:"flex items-center gap-3 border-r border-border-primary pr-6",children:[l.jsx("span",{className:"text-text-secondary font-medium",children:"حجم الخط"}),l.jsx("button",{onClick:F,className:"font-size-button",title:"تصغير الخط",children:"-"}),l.jsx("div",{className:"font-size-value",children:C}),l.jsx("button",{onClick:B,className:"font-size-button",title:"تكبير الخط",children:"+"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-text-secondary font-medium",children:"نوع الخط"}),l.jsxs("div",{className:"font-dropdown",children:[l.jsxs("button",{onClick:()=>p(!h),className:"font-dropdown-button",children:[l.jsx("span",{children:$(M)}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 transition-transform "+(h?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h&&l.jsxs("div",{className:"font-dropdown-menu",children:[l.jsx("button",{onClick:()=>D("elgharib"),className:"font-dropdown-item "+("elgharib"===M?"active":""),children:"الغريب"}),l.jsx("button",{onClick:()=>D("ibm"),className:"font-dropdown-item "+("ibm"===M?"active":""),children:"IBM"})]})]})]})]})]}),i&&l.jsx("div",{className:"bg-surface/50 rounded-lg py-3 px-3 sm:px-4 mb-6 sm:mb-8 text-right",children:n.length>0?l.jsxs("div",{className:"text-xs sm:text-sm text-text-secondary",children:["تم العثور على ",l.jsx("span",{className:"text-accent font-medium",children:n.filter(e=>0!==e.numberInSurah).length})," آية من أصل ",l.jsx("span",{className:"text-text-primary",children:s.filter(e=>0!==e.numberInSurah).length})]}):l.jsxs("div",{className:"text-xs sm:text-sm text-text-muted",children:['لا توجد نتائج للبحث "',l.jsx("span",{className:"text-text-secondary",children:i}),'"']})}),l.jsx("div",{className:"space-y-6 sm:space-y-8",children:n.map((r,n)=>l.jsxs("div",{className:`verse-card p-4 sm:p-8 fade-in ${0===r.numberInSurah?"":"cursor-pointer"} ${e===r.numberInSurah?"selected":""}`,style:{animationDelay:`${Math.min(.01*n,.5)}s`},onClick:()=>{0!==r.numberInSurah&&t(e===r.numberInSurah?null:r.numberInSurah)},children:[0===r.numberInSurah?l.jsx("div",{className:"flex flex-col items-center",children:l.jsx("div",{className:`basmala-text ${W(M)}`,style:{fontSize:1.4*P+"rem",lineHeight:2,letterSpacing:"0.02em"},children:r.arabic})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[l.jsx("div",{children:l.jsxs("div",{className:"bg-accent text-[var(--color-badge-text)] px-3 py-1 sm:px-4 sm:py-1.5 rounded-lg font-medium text-xs sm:text-sm transition-colors",children:["آية ",r.numberInSurah]})}),l.jsx("button",{onClick:e=>{e.stopPropagation(),L.togglePlayPause(r.numberInSurah)},disabled:k.isLoading&&k.currentVerse===r.numberInSurah,className:"audio-control-button flex items-center justify-center w-8 h-8 sm:w-9 sm:h-9 rounded-lg bg-surface hover:bg-elevated transition-all duration-200 border border-border-secondary hover:border-accent/50 group",title:k.currentVerse===r.numberInSurah&&k.isPlaying?"إيقاف التلاوة":"تشغيل التلاوة",children:k.isLoading&&k.currentVerse===r.numberInSurah?l.jsx("div",{className:"w-4 h-4 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}):k.currentVerse===r.numberInSurah&&k.isPlaying?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-accent group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-text-muted group-hover:text-accent group-hover:scale-110 transition-all",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M8 5v14l11-7z"})})}),l.jsx("button",{onClick:e=>{e.stopPropagation(),y(r),g(!0)},className:"flex items-center justify-center w-8 h-8 sm:w-9 sm:h-9 rounded-lg bg-surface hover:bg-elevated transition-all duration-200 border border-border-secondary hover:border-accent/50 group",title:"عرض التفسير",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-text-muted group-hover:text-accent group-hover:scale-110 transition-all",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]}),l.jsxs("div",{className:"text-xs sm:text-sm text-text-muted",children:["ص ",r.page," • ج ",r.juz]})]}),l.jsx("div",{className:"verse-content-mobile sm:verse-content",children:l.jsx("div",{className:`${W(M)} text-text-primary leading-loose text-center`,style:{fontSize:`${P}rem`,lineHeight:2.4,letterSpacing:"0.02em"},children:r.arabic})})]}),k.currentVerse===r.numberInSurah&&0!==r.numberInSurah&&l.jsx("div",{className:"embedded-audio-player mt-4 sm:mt-6",children:l.jsxs("div",{className:"bg-card/80 backdrop-blur-sm rounded-lg p-3 sm:p-4 border border-border-secondary",children:[l.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[l.jsx("button",{onClick:e=>{e.stopPropagation(),L.togglePlayPause(r.numberInSurah)},disabled:k.isLoading,className:"audio-control-button flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-card hover:bg-elevated transition-all duration-200 border border-border-secondary hover:border-accent/50 group flex-shrink-0 relative z-10",title:k.isPlaying?"إيقاف التلاوة":"تشغيل التلاوة",children:k.isLoading?l.jsx("div",{className:"w-5 h-5 border-2 border-accent/30 border-t-accent rounded-full animate-spin"}):k.isPlaying?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-accent group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-accent group-hover:scale-110 transition-transform",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M8 5v14l11-7z"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-accent text-sm font-medium",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),l.jsx("span",{className:"truncate",children:"تلاوة الشيخ مشاري العفاسي"})]}),l.jsxs("div",{className:"text-xs text-text-muted flex-shrink-0",children:[_(k.progress)," / ",_(k.duration)]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"audio-progress-bar h-2 bg-content rounded-full overflow-hidden",children:l.jsx("div",{className:"absolute top-0 left-0 h-full bg-accent rounded-full transition-all duration-300 z-10",style:{width:k.duration>0?k.progress/k.duration*100+"%":"0%"}})}),l.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-transparent via-accent/5 to-transparent opacity-50 pointer-events-none"})]})]}),l.jsx("button",{onClick:e=>{e.stopPropagation(),L.stopAudio()},className:"p-2 hover:bg-elevated rounded-lg transition-colors flex-shrink-0",title:"إيقاف التلاوة",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-text-muted hover:text-text-primary transition-colors",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M6 6h12v12H6z"})})})]}),k.error&&l.jsxs("div",{className:"mt-3 flex items-center gap-2 text-red-400 text-sm",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),l.jsx("span",{children:k.error})]})]})}),e===r.numberInSurah&&l.jsx("div",{className:"fade-in mt-6 sm:mt-8",children:l.jsxs("div",{className:"translation-panel-mobile sm:translation-panel",children:[l.jsxs("div",{className:"mb-4 sm:mb-6",children:[l.jsx("h4",{className:"text-accent font-semibold mb-3 sm:mb-4 text-left text-sm sm:text-base",dir:"ltr",children:"English Translation:"}),l.jsx("p",{className:"text-text-primary leading-relaxed text-sm sm:text-lg text-left",dir:"ltr",lang:"en",children:r.translation})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4",children:[l.jsxs("div",{className:"info-badge-mobile sm:info-badge text-center",children:[l.jsx("div",{className:"info-badge-label-mobile sm:info-badge-label",children:"رقم الآية"}),l.jsxs("div",{className:"info-badge-value-mobile sm:info-badge-value",children:[r.numberInSurah,"/",s.filter(e=>0!==e.numberInSurah).length]})]}),l.jsxs("div",{className:"info-badge-mobile sm:info-badge text-center",children:[l.jsx("div",{className:"info-badge-label-mobile sm:info-badge-label",children:"في المصحف"}),l.jsx("div",{className:"info-badge-value-mobile sm:info-badge-value",children:r.number})]}),l.jsxs("div",{className:"info-badge-mobile sm:info-badge text-center",children:[l.jsx("div",{className:"info-badge-label-mobile sm:info-badge-label",children:"الصفحة"}),l.jsx("div",{className:"info-badge-value-mobile sm:info-badge-value",children:r.page})]}),l.jsxs("div",{className:"info-badge-mobile sm:info-badge text-center",children:[l.jsx("div",{className:"info-badge-label-mobile sm:info-badge-label",children:"الجزء"}),l.jsx("div",{className:"info-badge-value-mobile sm:info-badge-value",children:r.juz})]})]})]})})]},r.numberInSurah))})]}),w&&l.jsx(I,{isOpen:v,onClose:()=>g(!1),ayahNumber:w.numberInSurah,ayahText:w.arabic})]})},P=()=>{const e=(new Date).getFullYear();return l.jsx("footer",{className:"bg-card mt-auto",children:l.jsx("div",{className:"container max-w-5xl mx-auto px-4 sm:px-6",children:l.jsxs("div",{className:"py-6 sm:py-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2 sm:mb-3 text-text-primary",children:"سورة الكهف"}),l.jsx("p",{className:"text-text-secondary text-xs sm:text-sm mb-2",children:"موقع مخصص لعرض آيات سورة الكهف"}),l.jsx("div",{className:"text-text-muted text-xs sm:text-sm",children:l.jsx("span",{children:"سورة مكية • 110 آية • الجزء 15-16"})})]}),l.jsx("div",{className:"border-t border-border-primary my-4 sm:my-6"}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 sm:gap-4",children:[l.jsx("div",{className:"text-text-muted text-xs sm:text-sm text-center sm:text-left",children:l.jsxs("span",{children:["© ",e," موقع سورة الكهف"]})}),l.jsx("div",{className:"text-center",children:l.jsx("span",{className:"text-text-secondary text-xs sm:text-sm leading-relaxed",children:"رَبَّنَا آتِنَا فِي الدُّنْيَا حَسَنَةً وَفِي الْآخِرَةِ حَسَنَةً وَقِنَا عَذَابَ النَّارِ"})})]})]})})})};function z(){const[e,t]=d.useState(!0);return d.useEffect(()=>{const e=setTimeout(()=>{t(!1)},1500);return()=>clearTimeout(e)},[]),e?l.jsx("div",{className:"fixed inset-0 bg-main flex items-center justify-center z-50 px-4",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative mx-auto w-20 h-20 sm:w-24 sm:h-24 mb-8",children:[l.jsx("div",{className:"absolute inset-0 border-2 border-accent/20 rounded-full"}),l.jsx("div",{className:"absolute inset-0 border-2 border-accent rounded-full animate-spin-slow",style:{clipPath:"inset(0 0 50% 50%)"}}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("span",{className:"text-2xl sm:text-3xl text-accent",style:{fontFamily:"'IBM Plex Sans Arabic', sans-serif"},children:"ك"})})]}),l.jsxs("div",{className:"space-y-4 animate-fade-in",children:[l.jsx("h2",{className:"text-xl sm:text-2xl text-accent font-light",children:"بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-text-secondary text-sm sm:text-base opacity-75 mb-4",children:"جاري تحميل سورة الكهف"}),l.jsxs("div",{className:"flex items-center justify-center gap-1",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent animate-bounce",style:{animationDelay:"0s"}}),l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent animate-bounce",style:{animationDelay:"0.2s"}}),l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-accent animate-bounce",style:{animationDelay:"0.4s"}})]})]})]})]})}):l.jsxs("div",{className:"min-h-screen flex flex-col animate-fade-in bg-main",children:[l.jsx(m,{}),l.jsx("main",{className:"flex-1",children:l.jsx(M,{})}),l.jsx(P,{})]})}c.createRoot(document.getElementById("root")).render(l.jsx(z,{}));
